"use strict";window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout(function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")},500)};const arrSuit=["./images/elem1.PNG","./images/elem2.PNG","./images/elem3.PNG","./images/elem4.PNG","./images/elem5.PNG","./images/elem6.PNG","./images/elem7.PNG","./images/elem8.PNG"],btn=document.getElementById("start"),tern=document.querySelectorAll(".tern"),allside=document.querySelectorAll(".allside"),blockWin=document.querySelector(".you-winn__inner"),audioBg=new Audio,audioWin=new Audio;let currentNum=0,isStarted=!1;const playMusic=(e,t)=>{t.play&&t.paused,t.preload="auto",t.src=e,t.play()},elComparison=t=>{t.forEach(e=>{t[0].src===t[1].src&&t[1].src===t[2].src&&setTimeout(()=>{blockWin.style.display="flex",e.classList.add("active")},500)}),t=[]},start=()=>{if(!isStarted){isStarted=!0,btn.style.cursor="not-allowed",btn.style.disabled=!0;const n=document.querySelectorAll(".center__item>.tern>.front>img");for(let e=0;e<18;e++){var t=Math.floor(7*Math.random()),s=allside[e].querySelector("img");s.closest(".center")&&s.closest(".front")?s.src=arrSuit[4]:s.src=arrSuit[t]}currentNum%2==0?setTimeout(()=>{for(let e=0;e<9;e++){var t=tern[e].querySelector("img");t.closest(".active")&&t.classList.remove("active"),tern[e].style.transform="rotateX(-11150deg)"}},0):setTimeout(()=>{for(let e=0;e<9;e++){var t=tern[e].querySelector("img");t.closest(".active")&&t.classList.remove("active"),tern[e].style.transform="rotateX(0deg)"}},0),tern[tern.length-1].addEventListener("transitionend",()=>{const e=document.querySelector("#wrap-btn"),l=document.querySelector(".bg__chinese-small"),t=document.querySelector(".you-winn"),s=document.querySelector(".take-your-bonus"),o=l.cloneNode();blockWin.append(o),audioBg&&playMusic("./sound/you-winn.mp3",audioBg);var r=(t,s,e)=>{setTimeout(()=>{var e=l.cloneNode();blockWin.append(e),e.style.top=""+t,e.style.left=""+s,e.classList.add("anim-chinese-small-item")},e)};setTimeout(()=>{l.classList.add("anim-chinese-small-item"),o.style.top="95%",o.classList.add("anim-chinese-small-item"),t.classList.add("pulse"),s.classList.add("pulse")},0),r("25%","10%",700),r("15%","20%",800),r("28%","30%",1200),r("75%","40%",2500),r("65%","50%",2700),r("95%","60%",2900),r("80%","70%",3200),r("60%","55%",3500),r("40%","45%",4700),r("30%","35%",5900),r("20%","25%",5100),r("10%","15%",6300),r("15%","25%",7300),r("-15%","10%",600),r("-18%","20%",900),r("-25%","30%",1300),r("-28%","40%",1600),r("-15%","50%",21800),r("-10%","60%",3100),r("-13%","70%",3500),r("-33%","80%",4800),r("-43%","65%",5e3),r("-23%","35%",4200),r("-19%","15%",5500),r("-3%","5%",6700),r("0%","13%",7700),e.style.zIndex=-1,s.style.zIndex=99,l.remove(),isStarted=!1,btn.style.cursor="pointer",btn.style.disabled=!1,elComparison(n)}),currentNum++}};btn.addEventListener("click",()=>{start()});