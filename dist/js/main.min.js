"use strict";window.onload=function(){document.body.classList.add("loaded_hiding"),window.setTimeout(function(){document.body.classList.add("loaded"),document.body.classList.remove("loaded_hiding")},500)};const arrSuit=["./images/elem1.PNG","./images/elem2.PNG","./images/elem3.PNG","./images/elem4.PNG","./images/elem5.PNG","./images/elem6.PNG","./images/elem7.PNG","./images/elem8.PNG"],btn=document.getElementById("start"),tern=document.querySelectorAll(".tern"),allside=document.querySelectorAll(".allside"),blockWin=document.querySelector(".you-winn__inner");let audio=new Audio,currentNum=0,isStarted=!1,winnerResult=0;const playMusic=(e,t)=>{t.preload="auto",t.src=e,t.play().then(e=>"").catch(e=>"")},elComparison=t=>{let s=0;return t.forEach(e=>{t[0].src===t[1].src&&t[1].src===t[2].src&&(setTimeout(()=>{blockWin.style.display="flex",e.classList.add("active")},500),s=1)}),1===s?winnerResult=1:null},start=()=>{if(!isStarted){isStarted=!0,btn.style.cursor="not-allowed",btn.style.disabled=!0;const o=document.querySelectorAll(".center__item>.tern>.front>img");for(let e=0;e<18;e++){var t=Math.floor(7*Math.random());const s=allside[e].querySelector("img");2!==currentNum?s.src=arrSuit[t]:setTimeout(()=>{s.closest(".front")&&setTimeout(()=>{s.src=arrSuit[arrSuit.length-1]},1900)})}return currentNum%2==0?setTimeout(()=>{for(let e=0;e<9;e++){var t=tern[e].querySelector("img");t.closest(".active")&&t.classList.remove("active"),tern[e].style.transform="rotateX(-11500deg)"}},0):currentNum%2!=0&&setTimeout(()=>{for(let e=0;e<9;e++){var t=tern[e].querySelector("img");t.closest(".active")&&t.classList.remove("active"),tern[e].style.transform="rotateX(0deg)"}},0),tern[tern.length-1].addEventListener("transitionend",()=>{const e=document.querySelector("#wrap-btn"),r=document.querySelector(".bg__chinese-small"),t=document.querySelector(".you-winn"),s=document.querySelector(".take-your-bonus");var n=(t,s,e)=>{setTimeout(()=>{var e=r.cloneNode();blockWin.append(e),e.style.top=""+t,e.style.left=""+s,e.classList.add("anim-chinese-small-item")},e)};if(elComparison(o),1===winnerResult){const l=r.cloneNode();blockWin.append(l),playMusic("./sound/you-winn.mp3",audio),setTimeout(()=>{r.classList.add("anim-chinese-small-item"),l.style.top="95%",l.classList.add("anim-chinese-small-item"),t.classList.add("pulse")},0),n("25%","10%",700),n("15%","20%",800),n("28%","30%",1200),n("75%","40%",2500),n("65%","50%",2700),n("95%","60%",2900),n("80%","70%",3200),n("60%","55%",3500),n("40%","45%",4700),n("30%","35%",5900),n("20%","25%",5100),n("10%","15%",6300),n("15%","25%",7300),n("-15%","10%",600),n("-18%","20%",900),n("-25%","30%",1300),n("-28%","40%",1600),n("-15%","50%",21800),n("-10%","60%",3100),n("-13%","70%",3500),n("-33%","80%",4800),n("-43%","65%",5e3),n("-23%","35%",4200),n("-19%","15%",5500),n("-3%","5%",6700),n("0%","13%",7700),e.style.zIndex=-1,s.style.zIndex=99,r.remove()}isStarted=!1,btn.style.cursor="pointer",btn.style.disabled=!1}),++currentNum}};btn.addEventListener("click",()=>{start(),!audio||2<=currentNum||playMusic("./sound/start.mp3",audio)});